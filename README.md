# Тестовое задание Тразанова Никиты

Это тестовое задание для студента 4 курса БГУИР, Тразанова Никиты. В рамках проекта был создан прокси-сервер, который проверяет проходящие через него запросы на основе заданных разрешений и пропускает или ограничивает их. Для управления пределами пропуска реализовано API и простой графический интерфейс.

## Архитектура приложения

- **PostgreSQL** используется для долговременного хранения информации о количестве запросов.
- **Redis** используется для быстрого доступа к информации о выполненных запросах.
- Все компоненты работают в **Docker-контейнерах**.
- Приложение основано на асинхронных библиотеках и функциях.

## Настройка и запуск

1. **Загрузите проект с GitHub**.
2. Создайте и заполните файл `.env` в директории проекта со следующими параметрами:
    ```env
    HOST = 0.0.0.0
    PORT = 3000
    REACT_APP_BASE_URL = http://localhost:8080
    POSTGRES_USER = admin
    POSTGRES_PASSWORD = 1111
    POSTGRES_DB = main_db
    ```
3. Для запуска контейнеров в Docker, откройте консоль и перейдите в директорию проекта. Затем выполните команды:
    ```bash
    docker-compose build
    docker-compose up
    ```

## Работа с приложением

После запуска проекта, будут доступны два ключевых сервера на портах:
- **3000 порт** — сервер клиента.
- **8000 порт** — сервер для настройки ограничений.

### Настройка ограничений

1. Для начала зайдите на **localhost:8000**. Это сервер для настройки ограничений.
2. Для обработки запросов используются уникальные части поступающих запросов. В рамках теста использовались следующие ключи:
    - `ATE_Minsk_public`
    - `Uchastki_Minsk_public`
    - `Land_Minsk_public`
    - `Belarus_BaseMap_WGS84`
3. На **localhost:8000** есть три формы:
    - Первая форма — добавление новых сервисов или обновление лимитов старых. Необходимо ввести название сервиса и максимальное количество запросов.
    - Вторая форма — позволяет узнать количество использованных запросов и их предел.
    - Третья форма — сбросить количество использованных запросов или удалить сервер из обработки. Для этого используются два пункта: `Statistics` (для сброса) и `Rules` (для удаления).
    
После установления всех правил, можно перейти на **localhost:3000**. Если все настроено правильно, вы увидите интерфейс клиента и начнется прогрузка карты, в зависимости от доступных ресурсов.

## Заключение

Этот сервис позволяет контролировать количество запросов через прокси-сервер с возможностью настройки лимитов, сброса статистики и удаления серверов из обработки.
